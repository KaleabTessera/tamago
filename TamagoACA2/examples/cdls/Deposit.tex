\begin{program}
\kw{ser}\=  \kw{vice} Deposit \{\\
\>  \kw{ref}\=  \kw{ine} \kw{service} tamago.aca.core.ACASecurity;\\
\>  \kw{pro}\=  \kw{perty} \kw{read}  \kw{int}  opNumber;\\
\>  \kw{met}\=  \kw{hod} \kw{void}  init() \{\\
\>  \>  \kw{id} i\= nit;\\
\>  \>  \kw{pos}\=  \kw{t} opNumber $<$ 0;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  deposit(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} d\= eposit;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  cancel(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} c\= ancel;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  validate(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} v\= alidate;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  validate_director(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} v\= alidate_dir;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  check(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} c\= heck;\\
\>  \>  \kw{pos}\=  \kw{t} opNumber $>$ 0;\\
\>  \}\\
\>  \kw{met}\=  \kw{hod} \kw{void}  register(tamago.ext.aca2.ACA aca) \{\\
\>  \>  \kw{id} r\= egister;\\
\>  \>  \kw{pos}\=  \kw{t} opNumber $>$ 0;\\
\>  \}\\
\>  \kw{beh}\=  \kw{avior} \{\\
\>  \>  \kw{def}\=  \kw{ault} \kw{state} ninit;\\
\>  \>  \kw{sta}\=  \kw{tes} \{\\
\>  \>  \>  \kw{sta}\=  \kw{te} ninit \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} init;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} initialized \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} deposit;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} deposed \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} check;\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} register;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} checked \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} register;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} registered \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} check;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} checkedregistered \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} cancel;\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} validate;\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} validate_dir;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} cancelled \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} init;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} validated \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} validate_dir;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} validatedDir \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} validate;\\
\>  \>  \>  \}\\
\>  \>  \>  \kw{sta}\=  \kw{te} completed \{\\
\>  \>  \>  \>  \kw{all}\=  \kw{ow} \kw{method} init;\\
\>  \>  \>  \}\\
\>  \>  \}\\
\>  \>  \kw{tra}\=  \kw{nsitions} \{\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} ninit \kw{to} initialized \kw{with} init;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} initialized \kw{to} deposed \kw{with} deposit;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} deposed \kw{to} checked \kw{with} check;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} deposed \kw{to} registered \kw{with} register;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} checked \kw{to} checkedregistered \kw{with} register;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} registered \kw{to} checkedregistered \kw{with} check;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} checkedregistered \kw{to} cancelled \kw{with} cancel;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} checkedregistered \kw{to} validated \kw{with} validate;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} checkedregistered \kw{to} validatedDir \kw{with} validate_dir;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} validatedDir \kw{to} completed \kw{with} validate;\\
\>  \>  \>  \kw{tra}\=  \kw{nsition} \kw{from} validated \kw{to} completed \kw{with} validate_dir;\\
\>  \>  \}\\
\>  \}\\
\}
\end{program}